@using Microsoft.AspNetCore.Identity
@using OBRS.Areas.Identity.Data

@inject SignInManager<OBRSUser> SignInManager
@inject UserManager<OBRSUser> UserManager

<ul class="navbar-nav align-items-center">

    @if (SignInManager.IsSignedIn(User))
    {
        var currentUser = await UserManager.GetUserAsync(User);

        <!-- User Name -->
        <li class="nav-item me-3">
            <a id="manage" class="nav-link fw-semibold text-primary d-flex align-items-center"
               asp-area="Identity" asp-page="/Account/Manage/Index" title="Manage">
                <i class="bi bi-person-circle me-2 fs-5"></i>
                @currentUser?.FullName
            </a>
        </li>

        <!-- Logout -->
        <li class="nav-item">
            <form id="logoutForm" class="d-inline"
                  asp-area="Identity"
                  asp-page="/Account/Logout"
                  asp-route-returnUrl="@Url.Action("Index", "Home", new { area = "" })">
                <button id="logout" type="submit"
                        class="btn btn-sm btn-danger px-3 rounded-pill shadow-sm hover-scale">
                    <i class="bi bi-box-arrow-right me-1"></i> Logout
                </button>
            </form>
        </li>
    }
    else
    {
        <!-- Register -->
        <li class="nav-item me-2">
            <a class="btn btn-sm btn-outline-primary px-3 rounded-pill shadow-sm hover-scale"
               id="register" asp-area="Identity" asp-page="/Account/Register">
                <i class="bi bi-person-plus me-1"></i> Register
            </a>
        </li>

        <!-- Login -->
        <li class="nav-item">
            <a class="btn btn-sm btn-primary px-3 rounded-pill shadow-sm hover-scale"
               id="login" asp-area="Identity" asp-page="/Account/Login">
                <i class="bi bi-box-arrow-in-right me-1"></i> Login
            </a>
        </li>
    }
</ul>
<style>
    /* Smooth hover scaling for buttons */
    .hover-scale {
        transition: all 0.2s ease-in-out;
    }

        .hover-scale:hover {
            transform: scale(1.05);
            box-shadow: 0px 4px 12px rgba(0,0,0,0.15);
        }

    /* Navbar link polish */
    .navbar-nav .nav-link {
        transition: color 0.2s ease-in-out;
    }

        .navbar-nav .nav-link:hover {
            color: red !important; /* theme color */
        }

</style>